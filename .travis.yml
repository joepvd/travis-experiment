os: osx
jobs:
  include:
  - osx_image: xcode10.1
    name: xcode10.1
  - osx_image: xcode10
    name: xcode10
  - osx_image: xcode9.4
    name: xcode9.4
  - osx_image: xcode9.3
    name: xcode9.3
  - osx_image: xcode9.2
    name: xcode9.2
  - osx_image: xcode9.1
    name: xcode9.1
  - osx_image: xcode9
    name: xcode9
  - osx_image: xcode8.3
    name: xcode8.3
  - osx_image: xcode8
    name: xcode8
  - osx_image: xcode7.3
    name: xcode7.3
  - osx_image: xcode6.4
    name: xcode6.4
install:
  - version=8
  - vendor=oraclejdk
script:
  - java -version
  - |
    java -version 2>&1 | awk -v vendor=$vendor 'BEGIN{v="openjdk"}/HotSpot/{v="oraclejdk"};END{if(vendor==v)exit 0; exit 1}'
  - |
    java -version 2>&1 | awk -F'"' -v version=$version 'BEGIN{if(version<9)version = "1\\."version; version=version"\\."}/version/{if ($2~version){exit 0}; exit 1}'
language: bash
notifications:
  email: false
