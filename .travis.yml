language: python
dist: xenial
group: edge
sudo: required
install: skip
matrix:
  include:
  - env: test=riak
    services: riak
    script: riak version
  - env: test=mysql
    services: mysql
    script:
    - "ps aux | grep '[m]ysql' || true"
    - mysql -uroot -e 'SHOW VARIABLES LIKE "%version%";'
    - mysql -utravis -e 'SHOW VARIABLES LIKE "%version%";'
    - mysql -uroot -e 'select * from mysql.user;'
  - env: test=neo4j
    services: neo4j
    script: curl http://localhost:7474/db/data/
  - env: test=elasticsearch
    services: elasticsearch
    script: curl http://localhost:9200/_nodes
  - env: test=cassandra
    services: cassandra
    script:
    - "cqlsh <<<'show version;'"
    - "cqlsh <<<'select * from system.local;'"
  - env: test=mongodb
    services: mongodb
    script:
    - "mongo mydb_test --eval 'db.addUser(\"travis\", \"test\");'"
    - mongo --eval 'db.version()'
notifications:
  email: never
